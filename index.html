<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>واجهـة المعلـم الرقمـي  </title>
  <meta name="description" content="موقع أ.محمد الغامدي - توثيق الجهود المهنية ونشر المحتوى التعليمي للطلاب.        ">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --primary-100: #f3e8ff;
      --primary-200: #d5b8ff;
      --primary-300: #b58fff;
      --primary-400: #9a69e6;
      --primary-500: #7a43cc;
      --primary-600: #5e3399;
      --primary-soft-1: #7B68EE;
      --primary-soft-2: #E6E6FA;
      --header-color: #5D3FD3;
      --notification-color: #E6E6FA;
      --text-dark: #2c2c3a;
      --text-light: #5a527f;
      --light-bg: #faf7ff;
      --green-100: #e8f5e9;
      --green-200: #c8e6c9;
      --green-300: #a5d6a7;
      --green-400: #81c784;
      --green-text: #2e7d32;
      --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    /* نظام الطبقات */
    .overlay-container {
      display: none;
    }
    
    /* أنماط الشعار المحسنة */
    .logo-header {
      background: linear-gradient(to left, #ffffff, #f9f5ff);
      padding: 15px 0;
      text-align: center;
      box-shadow: 0 2px 15px rgba(122, 67, 204, 0.15);
      position: relative;
      z-index: 1000;
      border-bottom: 2px solid var(--header-color);
    }
    
    .logo-header img {
      height: 80px;
      width: auto;
      transition: var(--transition);
      filter: drop-shadow(0 2px 4px rgba(122, 67, 204, 0.3));
    }
    
    .logo-header img:hover {
      transform: scale(1.05);
      filter: drop-shadow(0 3px 6px rgba(122, 67, 204, 0.4));
    }

    /* شريط الإشعارات المعدل - تم تقليل الارتفاع بشكل كبير */
    .notification-bar {
      background: var(--notification-color);
      color: #2c2c3a;
      padding: 8px 0; /* تم تقليل من 12px */
      overflow: hidden;
      position: relative;
      width: 100%;
      box-shadow: 0 2px 10px rgba(122, 67, 204, 0.2);
      border-bottom: 1px solid rgba(106, 90, 205, 0.2);
      font-size: 0.9rem; /* تم تقليل حجم الخط */
    }

   .notification-container {
  display: inline-block;
  white-space: nowrap;
  padding-right: 100%;
  animation: scroll 20s linear infinite; /* تم تغيير من 40s إلى 20s */
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: content-box;
}

    .notification-container i {
      margin-left: 8px; /* تم تقليل المسافة */
      margin-right: 6px; /* تم تقليل المسافة */
      color: var(--header-color);
      animation: ring 4s 0.7s ease-in-out infinite;
      transform-origin: 50% 4px;
      font-size: 0.9rem; /* تم تقليل حجم الأيقونة */
    }

    @keyframes scroll {
  0% { 
    transform: translateX(0); 
  }
  100% { 
    transform: translateX(100%);
  }
}

    @keyframes ring {
      0% { transform: rotate(0); }
      1% { transform: rotate(30deg); }
      3% { transform: rotate(-28deg); }
      5% { transform: rotate(34deg); }
      7% { transform: rotate(-32deg); }
      9% { transform: rotate(30deg); }
      11% { transform: rotate(-28deg); }
      13% { transform: rotate(26deg); }
      15% { transform: rotate(-24deg); }
      17% { transform: rotate(22deg); }
      19% { transform: rotate(-20deg); }
      21% { transform: rotate(18deg); }
      23% { transform: rotate(-16deg); }
      25% { transform: rotate(14deg); }
      27% { transform: rotate(-12deg); }
      29% { transform: rotate(10deg); }
      31% { transform: rotate(-8deg); }
      33% { transform: rotate(6deg); }
     35% { transform: rotate(-4deg); }
      37% { transform: rotate(2deg); }
      39% { transform: rotate(-1deg); }
      41% { transform: rotate(1deg); }
      43% { transform: rotate(0); }
      100% { transform: rotate(0); }
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      font-family: 'Tajawal', sans-serif;
      background-color: var(--light-bg);
      color: var(--text-dark);
      line-height: 1.6;
      font-weight: 400;
      min-height: 100vh;
      padding-bottom: 3rem;
      background-image: 
        radial-gradient(circle at 90% 10%, rgba(122, 67, 204, 0.03) 0%, transparent 20%),
        radial-gradient(circle at 10% 90%, rgba(122, 67, 204, 0.03) 0%, transparent 20%);
    }

    /* الهيدر المعدل - تم تقليل الارتفاع بشكل كبير */
    header {
      background: var(--header-color);
      color: white;
      text-align: center;
      padding: 1.2rem 1rem; /* تم تقليل الارتفاع بشكل كبير من 2.8rem */
      position: relative;
      border-bottom-left-radius: 25px;
      border-bottom-right-radius: 25px;
      box-shadow: 0 8px 25px rgba(106, 90, 205, 0.4);
      margin-bottom: 2rem; /* تم تقليل المسافة السفلية */
      user-select: none;
      overflow: hidden;
    }

    header::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background: 
        radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.2) 0%, transparent 20%),
        radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 30%);
      pointer-events: none;
    }

    header h1,
    header p,
    .card-title,
    .section-title,
    .google-form-header {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      display: block;
    }

    header h1 {
      font-size: 1.6rem; /* تم تصغير الحجم من 2.2rem */
      margin-bottom: 0.5rem; /* تم تقليل المسافة */
      font-weight: 800;
      letter-spacing: -0.5px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      position: relative;
    }

    header p {
      font-size: 0.95rem; /* تم تصغير الحجم من 1.15rem */
      opacity: 0.95;
      max-width: 800px;
      margin: 0 auto;
      font-weight: 400;
      letter-spacing: 0.6px;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
      margin-bottom: 0.5rem; /* تم إضافة مسافة أسفل */
    }

    .compact-date {
      background: rgba(255, 255, 255, 0.25);
      display: inline-block;
      padding: 6px 14px; /* تم تقليل الحديد قليلاً */
      border-radius: 25px;
      margin-top: 10px; /* تم تقليل المسافة من الأعلى */
      font-size: 0.9rem;
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      transition: var(--transition);
    }

    .compact-date:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateY(-2px);
    }

    .compact-date .separator {
      margin: 0 8px;
      opacity: 0.8;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem 3rem;
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      justify-content: center;
    }

    .section-card {
      background: linear-gradient(to bottom, #ffffff, #faf7ff);
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(122, 67, 204, 0.15);
      padding: 2rem 2rem 1.5rem;
      width: 350px;
      display: flex;
      flex-direction: column;
      user-select: none;
      transition: var(--transition);
      cursor: default;
      height: auto;
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(122, 67, 204, 0.1);
    }

    /* إضافة الشريط العلوي الأنيق باللون الأساسي للبطاقات الكبيرة فقط */
    .section-card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      left: 0;
      height: 5px;
      background: linear-gradient(90deg, var(--primary-500) 0%, rgba(122, 67, 204, 0.5) 100%);
      border-radius: 2px 2px 0 0;
      transition: height 0.3s ease;
    }

    .section-card:hover::before {
      height: 6px;
      background: linear-gradient(90deg, var(--primary-500) 0%, var(--primary-400) 100%);
    }

    .section-card:hover {
      box-shadow: 0 15px 35px rgba(122, 67, 204, 0.25);
      transform: translateY(-7px);
      border-color: rgba(122, 67, 204, 0.2);
    }

    .section-title {
      font-size: 1.65rem;
      color: var(--primary-500);
      margin-bottom: 1.5rem;
      padding-right: 0.8rem;
      font-weight: 700;
      position: relative;
      letter-spacing: 0.5px;
      user-select: none;
      display: flex;
      align-items: center;
      gap: 0.8rem;
      text-shadow: 0 1px 2px rgba(122, 67, 204, 0.1);
    }

    .section-title::after {
      content: "";
      position: absolute;
      bottom: -12px;
      right: 0;
      width: 70px;
      height: 4px;
      background: var(--primary-500);
      border-radius: 4px;
      box-shadow: 0 0 10px var(--primary-soft-1);
      transition: width 0.3s ease;
    }

    .section-card:hover .section-title::after {
      width: 90px;
    }

    /* تعديل أيقونات الأقسام */
    .section-icon {
      font-size: 1.5rem;
      color: var(--primary-500);
      opacity: 0.8;
      transition: var(--transition);
      user-select: none;
      background: rgba(122, 67, 204, 0.1);
      width: 45px;
      height: 45px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 12px;
    }

    .section-title:hover .section-icon {
      opacity: 1;
      transform: scale(1.1) rotate(5deg);
      background: rgba(122, 67, 204, 0.15);
      box-shadow: 0 0 15px rgba(122, 67, 204, 0.2);
    }

    .cards-container {
      display: flex;
      flex-direction: column;
      gap: 1.2rem;
      margin-top: 0.8rem;
    }

    .card {
      background: linear-gradient(to right, var(--primary-soft-2), #f5f1ff);
      border-radius: 16px;
      padding: 1.2rem 1.5rem;
      box-shadow: 0 4px 12px rgba(122, 67, 204, 0.1);
      border: 1.5px solid rgba(122, 67, 204, 0.15);
      display: flex;
      align-items: center;
      gap: 1.2rem;
      cursor: pointer;
      opacity: 0;
      transform: translateY(15px);
      animation: fadeSlideUp 0.5s forwards ease;
      transition: var(--transition);
      user-select: text;
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background: linear-gradient(to right, rgba(122, 67, 204, 0.03), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(122, 67, 204, 0.25);
      border-color: var(--primary-400);
      background: linear-gradient(to right, #ece2ff, #e6d9ff);
    }

    .card:hover::before {
      opacity: 1;
    }

    .card-icon {
      font-size: 1.7rem;
      color: var(--primary-500);
      min-width: 40px;
      text-align: center;
      transition: var(--transition);
      opacity: 0.9;
      user-select: none;
      text-shadow: 0 1px 2px rgba(122, 67, 204, 0.2);
    }

    .card:hover .card-icon {
      transform: scale(1.2) rotate(5deg);
      color: var(--primary-600);
      opacity: 1;
      text-shadow: 0 2px 4px rgba(122, 67, 204, 0.3);
    }

    .card-title {
      font-size: 1.15rem;
      font-weight: 600;
      color: var(--text-dark);
      transition: color 0.3s ease;
      word-break: break-word;
      display: flex;
      align-items: center;
      gap: 10px;
      position: relative;
      /* تحسينات جديدة للعرض الأفقي */
      overflow: visible;
      white-space: normal;
      text-overflow: clip;
      flex: 1;
      min-width: 0; /* يسمح بتقلص العنصر عند الحاجة */
    }

    .card:hover .card-title {
      color: var(--primary-600);
    }

    .nowrap-text {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .card-title .external-icon {
      font-size: 0.75em;
      color: var(--primary-500);
      margin-right: 5px;
      opacity: 0.8;
      transition: var(--transition);
      /* تأكد من ظهور الأيقونة في جميع الأحوال */
      flex-shrink: 0;
    }

    .card:hover .external-icon {
      opacity: 1;
      color: var(--primary-600);
      transform: translateX(3px);
    }

    .back-to-top {
      position: fixed;
      bottom: 30px;
      left: 30px;
      background: var(--primary-500);
      color: white;
      width: 55px;
      height: 55px;
      border-radius: 18px;
      display: flex;
      align-items:  center;
      justify-content: center;
      box-shadow: 0 6px 20px rgba(122, 67, 204, 0.5);
      z-index: 100;
      border: none;
      cursor: pointer;
      transition: var(--transition);
      user-select: none;
      opacity: 0;
      visibility: hidden;
    }

    .back-to-top.show {
      opacity: 1;
      visibility: visible;
    }

    .back-to-top:hover {
      background: var(--primary-600);
      transform: scale(1.1) translateY(-5px);
      border-radius: 50%;
      box-shadow: 0 8px 25px rgba(122, 67, 204, 0.7);
    }

    @keyframes fadeSlideUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .google-form-container {
      max-width: 850px;
      margin: 3rem auto;
      padding: 2.5rem;
      background: linear-gradient(to bottom, #ffffff, #faf7ff);
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(122, 67, 204, 0.15);
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(122, 67, 204, 0.1);
    }

    /* إضافة الشريط العلوي للنموذج */
    .google-form-container::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      left: 0;
      height: 5px;
      background: var(--primary-500);
      border-radius: 2px 2px 0 0;
    }
    
    .google-form-header {
      color: var(--primary-500);
      text-align: center;
      margin-bottom: 1.8rem;
      font-size: 1.6rem;
      position: relative;
      font-weight: 700;
    }
    
    .google-form-header::after {
      content: "";
      position: absolute;
      bottom: -12px;
      right: 50%;
      transform: translateX(50%);
      width: 70px;
      height: 4px;
      background: var(--primary-500);
      border-radius: 4px;
      box-shadow: 0 0 10px var(--primary-soft-1);
    }
    
    .google-form-footer {
      text-align: center;
      margin-top: 1.5rem;
      color: var(--text-light);
      font-size: 0.95rem;
    }

    /* زر الإجابات المعدل */
    .answers-link {
      display: block;
      text-align: center;
      margin: 25px auto;
      padding: 14px 25px;
      background: linear-gradient(to right, var(--primary-500), var(--primary-400));
      color: white;
      border-radius: 35px;
      text-decoration: none;
      font-weight: 700;
      width: fit-content;
      transition: var(--transition);
      box-shadow: 0 5px 15px rgba(122, 67, 204, 0.4);
      border: 2px solid rgba(255, 255, 255, 0.3);
      position: relative;
      overflow: hidden;
    }

    .answers-link::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      left: 0;
      height: 2px;
      background: rgba(255, 255, 255, 0.3);
    }

    .answers-link:hover {
      background: linear-gradient(to right, var(--primary-600), var(--primary-500));
      color: white;
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(122, 67, 204, 0.5);
    }

    .answers-link i {
      margin-left: 10px;
      color: inherit;
    }

    /* تأثيرات دخول المحتوى */
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .fade-in.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* تحسينات الجوال الأساسية */
    @media (max-width: 1100px) {
      .container {
        justify-content: flex-start;
        gap: 1.5rem;
      }
    }

    @media (max-width: 900px) {
      .container {
        justify-content: center;
      }

      .section-card {
        width: 320px;
      }
    }

    @media (max-width: 700px) {
      .container {
        flex-direction: column;
        align-items: center;
        gap: 1.2rem;
      }

      .section-card {
        width: 95% !important;
        padding: 1.5rem 1.5rem 1rem !important;
        margin: 0 auto 1.2rem !important;
      }
      
      .card {
        padding: 1rem !important;
      }
      
      .google-form-container {
        width: 95% !important;
        padding: 1.5rem !important;
      }
      
      .google-form-container iframe {
        height: 600px !important;
      }

      .logo-header img {
        height: 60px;
      }

      .cards-container {
        gap: 1rem;
        margin-top: 0.5rem;
      }
      
      .notification-container {
        animation: scroll 10s linear infinite;
      }
    }

    @media (max-width: 480px) {
      header {
        padding: 1rem 0.8rem; /* تم تعديل الحجم للجوال */
        border-bottom-left-radius: 20px;
        border-bottom-right-radius: 20px;
      }

      header h1 {
        font-size: 1.4rem !important; /* تم تعديل الحجم للجوال */
        margin-bottom: 0.4rem !important;
      }
      
      header p {
        font-size: 0.85rem !important; /* تم تعديل الحجم للجوال */
        line-height: 1.5 !important;
        margin-bottom: 0.4rem;
      }

      .compact-date {
        font-size: 0.8rem !important;
        padding: 5px 10px !important; /* تم تعديل الحجم للجوال */
        white-space: nowrap;
        margin-top: 8px; /* تم تقليل المسافة من الأعلى */
      }
      
      .compact-date .separator {
        margin: 0 5px !important;
      }

      .section-title {
        font-size: 1.4rem;
        margin-bottom: 1.2rem;
      }

      .section-icon {
        font-size: 1.3rem;
        width: 40px;
        height: 40px;
      }

      .card {
        padding: 1rem !important;
        border-radius: 14px;
      }

      .card-icon {
        font-size: 1.5rem;
        min-width: 35px;
      }

      .card-title {
        font-size: 1.05rem !important;
      }

      .back-to-top {
        width: 50px;
        height: 50px;
        border-radius: 16px;
        bottom: 20px;
        left: 20px;
      }

      .logo-header {
        padding: 12px 0;
      }
      
      .logo-header img {
        height: 50px;
      }

      .notification-bar {
        font-size: 0.8rem; /* تم تقليل حجم الخط للجوال */
        padding: 7px 0; /* تم تقليل الارتفاع للجوال */
      }
      
      .notification-container i {
        font-size: 0.8rem; /* تم تقليل حجم الأيقونة للجوال */
        margin-left: 6px;
        margin-right: 4px;
      }
      
      .notification-container {
        animation: scroll 25s linear infinite;
      }

      .answers-link {
        padding: 12px 20px;
        font-size: 0.95rem;
      }
    }

    /* تحسين إضافي لزر الإجابات على الجوال */
    @media (max-width: 768px) {
      .answers-link {
        transform: none;
        border-width: 2px;
      }
    }

    /* تحسينات للهواتف ذات الشاشات الصغيرة جداً */
    @media (max-width: 360px) {
      .section-title {
        font-size: 1.3rem;
      }
      
      .section-icon {
        font-size: 1.2rem;
        width: 38px;
        height: 38px;
      }
      
      .card {
        padding: 0.9rem !important;
      }
      
      .card-icon {
        font-size: 1.4rem;
      }
      
      .container {
        padding: 0 1rem 2rem;
      }
      
      .notification-bar {
        font-size: 0.75rem; /* تم تقليل حجم الخط أكثر للشاشات الصغيرة */
        padding: 6px 0; /* تم تقليل الارتفاع أكثر للشاشات الصغيرة */
      }
    }
    
    /* إلغاء التموج الأبيض في الهيدر */
    header::before {
      content: none !important;
      background: none !important;
    }

    /* تحسينات خاصة للعرض الأفقي (landscape) */
    @media (max-width: 900px) and (orientation: landscape) {
      .container {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        gap: 1rem;
      }
      
      .section-card {
        width: calc(50% - 1rem) !important;
        min-height: auto;
        padding: 1.2rem 1rem 1rem !important;
      }
      
      .card-title {
        font-size: 1rem !important;
        white-space: normal;
        overflow: visible;
        text-overflow: clip;
        line-height: 1.4;
      }
      
      .card {
        padding: 0.8rem 1rem !important;
        min-height: 60px;
      }
      
      .card-icon {
        font-size: 1.3rem;
        min-width: 30px;
      }
      
      .cards-container {
        gap: 0.8rem;
      }
      
      .section-title {
        font-size: 1.3rem;
        margin-bottom: 1rem;
      }
      
      .section-icon {
        width: 35px;
        height: 35px;
        font-size: 1.2rem;
      }
      
      .google-form-container {
        padding: 1.5rem !important;
      }
      
      .google-form-container iframe {
        height: 400px !important;
      }
    }
    
    /* تحسينات إضافية للعرض الأفقي على شاشات صغيرة */
    @media (max-width: 700px) and (orientation: landscape) {
      .section-card {
        width: 100% !important;
      }
      
      header {
        padding: 0.8rem;
      }
      
      header h1 {
        font-size: 1.3rem !important;
      }
      
      header p {
        font-size: 0.8rem !important;
      }
      
      .compact-date {
        font-size: 0.75rem !important;
        padding: 4px 8px !important;
      }
    }
    
    /* تحسينات للعرض الأفقي على أجهزة iPad */
    @media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape) {
      .container {
        gap: 1.5rem;
      }
      
      .section-card {
        width: calc(33.333% - 1.5rem) !important;
      }
    }
/* شريط البحث الجديد */
.search-container {
  max-width: 500px;
  margin: 0 auto 2rem;
  padding: 0 1.5rem;
  position: relative;
  z-index: 1001;
}

.search-box {
  position: relative;
  width: 100%;
}

.search-input {
  width: 100%;
  padding: 12px 50px 12px 20px;
  border: 2px solid rgba(122, 67, 204, 0.2);
  border-radius: 30px;
  font-size: 1rem;
  font-family: 'Tajawal', sans-serif;
  background: white;
  box-shadow: 0 4px 15px rgba(122, 67, 204, 0.1);
  transition: var(--transition);
  outline: none;
  position: relative;
  z-index: 1002;
}

.search-input:focus {
  border-color: var(--primary-500);
  box-shadow: 0 6px 20px rgba(122, 67, 204, 0.2);
  padding-right: 55px;
}

.search-button {
  position: absolute;
  left: 10px;
  top: 50%;
  transform: translateY(-50%);
  background: var(--primary-500);
  color: white;
  border: none;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
  z-index: 1003;
}

.search-button:hover {
  background: var(--primary-600);
  transform: translateY(-50%) scale(1.05);
}

.search-results {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: white;
  border-radius: 15px;
  box-shadow: 0 10px 25px rgba(122, 67, 204, 0.3);
  margin-top: 5px;
  z-index: 10000;
  max-height: 300px;
  overflow-y: auto;
  display: none;
}

.search-result-item {
  padding: 12px 20px;
  border-bottom: 1px solid rgba(122, 67, 204, 0.1);
  cursor: pointer;
  transition: var(--transition);
  display: flex;
  align-items: center;
  gap: 10px;
}

.search-result-item:last-child {
  border-bottom: none;
}

.search-result-item:hover {
  background: var(--primary-soft-2);
}

.search-result-item i {
  color: var(--primary-500);
  font-size: 0.9rem;
}

.search-result-item span {
  flex: 1;
}

.no-results {
  padding: 15px 20px;
  text-align: center;
  color: var(--text-light);
}

@media (max-width: 700px) {
  .search-container {
    padding: 0 1rem;
    margin-bottom: 1.5rem;
  }
  
  .search-input {
    padding: 10px 45px 10px 15px;
    font-size: 0.95rem;
  }
  
  .search-button {
    width: 32px;
    height: 32px;
  }
}

@media (max-width: 480px) {
  .search-input {
    font-size: 0.9rem;
  }
  
  .search-results {
    max-height: 250px;
  }
  
  .search-result-item {
    padding: 10px 15px;
    font-size: 0.9rem;
  }
}
    @media (max-width: 480px) {
  .responsive-header {
    height: 200px !important; /* أقل قليلاً للجوال */
    min-height: 200px;
  }
  
  .compact-date {
    font-size: 0.8rem !important;
    padding: 6px 12px !important;
    max-width: 300px !important;
    bottom: 15px !important;
  }
}

@media (max-width: 360px) {
  .responsive-header {
    height: 180px !important;
  }
  
  .compact-date {
    font-size: 0.75rem !important;
    padding: 5px 10px !important;
  }
}
    @media (max-width: 480px) {
  .responsive-header {
    height: 200px !important;
    object-position: center 25% !important; /* تركيز أعلى للجوال */
  }
  
  .compact-date {
    font-size: 0.8rem !important;
    padding: 6px 15px !important;
    bottom: 10px !important;
    max-width: 300px !important;
  }
}

@media (max-width: 360px) {
  .responsive-header {
    height: 180px !important;
    object-position: center 20% !important;
  }
  
  .compact-date {
    font-size: 0.75rem !important;
    padding: 5px 12px !important;
  }
}
/* تصغير أكبر قليلاً للتاريخ والوقت على الجوال */
@media (max-width: 768px) {
  #hijri-date, #gregorian-date, #live-time {
      font-size: 0.64rem; /* أصغر قليلاً أكثر */
  }
}
/* الهيدر في الوضع الأفقي */
@media screen and (max-height: 500px) and (orientation: landscape) {
  header img.responsive-header {
    height: 160px !important;   /* زود الطول ليبان أوضح */
    max-height: 160px !important;
  }

  .compact-date {
    font-size: 0.9rem !important;  /* خليه أكبر شوية */
    padding: 4px 10px !important;  /* عشان ما يضيق */
  }
}
/* الهيدر العام */
#header {
    height: 200px;           /* ارتفاع مناسب للوضع العمودي */
    width: 100%;
    background-image: url('your-header-image.jpg');
    background-size: cover;   /* تغطية كاملة بدون تشويه */
    background-position: center; /* إبقاء الجزء المهم في المنتصف */
}

/* للهاتف بالوضع الأفقي */
@media only screen and (max-width: 767px) and (orientation: landscape) {
    #header {
        height: 200px;       /* نفس ارتفاع الوضع العمودي */
        background-size: cover;
        background-position: center;
    }
}
#header {
    height: 200px; /* ثابت لكل الوضعيات */
    overflow: hidden;
}

#header img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
}
/* أنماط قسم الذكاء الاصطناعي */
.ai-assistant-container {
  max-width: 800px;
  margin: 3rem auto;
  padding: 2.5rem;
  background: linear-gradient(135deg, #ffffff 0%, #f8f5ff 100%);
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(122, 67, 204, 0.2);
  position: relative;
  overflow: hidden;
  border: 1px solid rgba(122, 67, 204, 0.15);
}

.ai-assistant-container::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  height: 5px;
  background: linear-gradient(90deg, #4285f4 0%, #34a853 33%, #fbbc05 66%, #ea4335 100%);
  border-radius: 2px 2px 0 0;
}

.ai-header {
  color: var(--primary-500);
  text-align: center;
  margin-bottom: 2rem;
  font-size: 1.7rem;
  position: relative;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
}

.ai-header::after {
  content: "";
  position: absolute;
  bottom: -12px;
  right: 50%;
  transform: translateX(50%);
  width: 80px;
  height: 4px;
  background: var(--primary-500);
  border-radius: 4px;
  box-shadow: 0 0 10px var(--primary-soft-1);
}

.ai-icon {
  font-size: 2rem;
  background: linear-gradient(135deg, #4285f4, #34a853, #fbbc05, #ea4335);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

.ai-description {
  text-align: center;
  color: var(--text-light);
  margin-bottom: 2rem;
  font-size: 1.1rem;
  line-height: 1.6;
}
.ai-chat-container {
  background: white;
  border-radius: 15px;
  padding: 1.5rem;
  box-shadow: 0 4px 15px rgba(122, 67, 204, 0.1);
  border: 1px solid rgba(122, 67, 204, 0.1);
  margin-bottom: 1.5rem;
}

.ai-messages {
  height: 300px;
  overflow-y: auto;
  margin-bottom: 1rem;
  padding: 1rem;
  background: var(--light-bg);
  border-radius: 10px;
  border: 1px solid rgba(122, 67, 204, 0.1);
}

.message {
  margin-bottom: 1rem;
  padding: 0.8rem 1rem;
  border-radius: 12px;
  max-width: 85%;
  word-wrap: break-word;
}

.user-message {
  background: var(--primary-soft-2);
  margin-right: auto;
  border-bottom-right-radius: 4px;
}

.ai-message {
  background: white;
  margin-left: auto;
  border: 1px solid rgba(122, 67, 204, 0.1);
  border-bottom-left-radius: 4px;
  box-shadow: 0 2px 8px rgba(122, 67, 204, 0.1);
}

.ai-input-group {
  display: flex;
  gap: 0.5rem;
}

.ai-input {
  flex: 1;
  padding: 12px 15px;
  border: 2px solid rgba(122, 67, 204, 0.2);
  border-radius: 25px;
  font-size: 1rem;
  font-family: 'Tajawal', sans-serif;
  background: white;
  transition: var(--transition);
  outline: none;
}

.ai-input:focus {
  border-color: var(--primary-500);
  box-shadow: 0 0 0 3px rgba(122, 67, 204, 0.1);
}

.ai-send-btn {
  background: var(--primary-500);
  color: white;
  border: none;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
  font-size: 1.2rem;
}

.ai-send-btn:hover {
  background: var(--primary-600);
  transform: scale(1.05);
}

.ai-send-btn:disabled {
  background: var(--text-light);
  cursor: not-allowed;
  transform: none;
}

.ai-loading {
  display: none;
  text-align: center;
  color: var(--text-light);
  font-style: italic;
}

.ai-disclaimer {
  text-align: center;
  font-size: 0.85rem;
  color: var(--text-light);
  margin-top: 1rem;
  padding: 1rem;
  background: var(--green-100);
  border-radius: 10px;
  border: 1px solid var(--green-200);
}

.ai-disclaimer i {
  color: var(--green-text);
  margin-left: 0.5rem;
}
  </style>
</head>
<body>

<!-- قسم الشعار -->
<div class="logo-header fade-in">
  <img src="images/logo.png" alt="شعار الموقع التعليمي">
</div>

<!-- شريط الإشعارات المعدل - تم تقليل ارتفاعه -->
<div class="notification-bar fade-in">
  <div class="notification-container">
    <i class="fas fa-bell"></i>
    <span id="notificationContent">جاري تحميل الإشعارات...</span>
  </div>
</div>

<!-- الهيدر المعدل ليتناسب مع أبعاد 1500x250 -->
<!-- الهيدر مع قص ذكي والوقت في الأسفل -->
<header class="fade-in" style="background: transparent; box-shadow: none; padding: 0; position: relative; margin: 0;">
  <div style="position: relative; overflow: hidden; border-bottom-left-radius: 20px; border-bottom-right-radius: 20px; box-shadow: 0 6px 20px rgba(106, 90, 205, 0.4);">
    <img src="images/tr.png" alt="واجهة المعلم الرقمي - أ. محمد حمدان الغامدي" 
         class="responsive-header" 
         style="width: 100%; height: 100px !important; max-height: 100px !important; object-fit: cover; object-position: center 30%; display: block;">
    
    <!-- الوقت والتاريخ بدون إطار -->
    <div style="position: absolute; bottom: 6px; left: 50%; transform: translateX(-50%); width: 90%; max-width: 350px; z-index: 2;">
      <div class="compact-date" dir="rtl" 
           style="background: #e6e8fb; color: #000000; padding: 2px 6px !important; border-radius: 10px; 
                  box-shadow: 0 1px 4px rgba(0,0,0,0.12); font-weight: 800; font-size: 0.55rem !important; 
                  text-align: center; backdrop-filter: blur(5px);  border: 0.5px solid rgba(93, 63, 211, 0.3); border: none;">
        <span id="hijri-date"></span> 
        <span class="separator" style="color: #7A43CC; margin: 0 4px; opacity: 0.7;">•</span>
        <span id="gregorian-date"></span>
        <span class="separator" style="color: #7A43CC; margin: 0 4px; opacity: 0.7;">•</span>
        <span id="live-time"></span>
      </div>
    </div>
  </div>
</header>

<!-- شريط البحث الجديد -->
<div class="search-container fade-in" style="margin-top: 20px !important;">
  <div class="search-box">
    <input type="text" class="search-input" placeholder="ابحث في المحتوى التعليمي..." id="searchInput">
    <button class="search-button" id="searchButton">
      <i class="fas fa-search"></i>
    </button>
    <div class="search-results" id="searchResults"></div>
  </div>
</div>
<div class="container">
  <!-- معلومات عامة -->
  <section class="section-card fade-in">
    <h2 class="section-title">
      <i class="fas fa-info-circle section-icon"></i>
      معلومات عامة
    </h2>
    <div class="cards-container">
      <div class="card" style="animation-delay: 0.05s;" data-url="https://sites.google.com/view/qws2/%D8%A3%D9%87%D8%AF%D8%A7%D9%81-%D8%B3%D9%8A%D8%A7%D8%B3%D8%A9-%D8%A7%D9%84%D8%AA%D8%B9%D9%84%D9%8A%D9%85-%D8%A8%D8%A7%D9%84%D9%85%D9%85%D9%84%D9%83%D8%A9?authuser=1">
        <i class="fas fa-bullseye card-icon"></i>
        <h3 class="card-title">أهداف التعليم</h3>
      </div>
      <div class="card" style="animation-delay: 0.1s;" data-url="https://sites.google.com/view/afsw/%D9%85%D9%8A%D8%AB%D8%A7%D9%82-%D8%A3%D8%AE%D9%84%D8%A7%D9%82%D9%8A%D8%A7%D8%AA-%D9%85%D9%87%D9%86%D8%A9-%D8%A7%D9%84%D8%AA%D8%B9%D9%84%D9%8A%D9%85?authuser=1">
        <i class="fas fa-scroll card-icon"></i>
        <h3 class="card-title">ميثاق مهنة التعليم</h3>
      </div>
      <div class="card" style="animation-delay: 0.15s;" data-url="https://sites.google.com/view/werzz/%D8%A7%D9%84%D8%A3%D9%87%D8%AF%D8%A7%D9%81-%D8%A7%D9%84%D9%88%D8%B8%D9%8A%D9%81%D9%8A%D8%A9?authuser=1">
        <i class="fas fa-bullhorn card-icon"></i>
        <h3 class="card-title">الأهداف الوظيفية</h3>
      </div>
      <div class="card" style="animation-delay: 0.2s;" data-url="https://sites.google.com/view/wsffew/%D8%B1%D8%A4%D9%8A%D8%A9-%D9%88%D8%B1%D8%B3%D8%A7%D9%84%D8%A9-%D8%A7%D9%84%D9%85%D8%B9%D9%84%D9%85?authuser=1">
        <i class="fas fa-eye card-icon"></i>
        <h3 class="card-title">رؤية ورسالة المعلم</h3>
      </div>
      <div class="card" style="animation-delay: 0.25s;" data-url="https://sites.google.com/view/retgv3/%D8%B1%D8%A4%D9%8A%D8%A9-%D9%88%D8%B1%D8%B3%D8%A7%D9%84%D8%A9-%D8%A7%D9%84%D9%85%D8%AF%D8%B1%D8%B3%D8%A9?authuser=1">
        <i class="fas fa-school card-icon"></i>
        <h3 class="card-title">رؤية المدرسة</h3>
      </div>
      <div class="card" style="animation-delay: 0.3s;" data-url="https://sites.google.com/view/ererwq6/%D9%85%D9%87%D8%A7%D9%85-%D8%A7%D9%84%D9%85%D8%B9%D9%84%D9%85-%D9%88%D9%88%D8%A7%D8%AC%D8%A8%D8%A7%D8%AA%D8%A9?authuser=1">
        <i class="fas fa-tasks card-icon"></i>
        <h3 class="card-title">مهام المعلم </h3>
      </div>
      <div class="card" style="animation-delay: 0.35s;" data-url="https://sites.google.com/view/we3rt/home?authuser=1">
        <i class="fas fa-user card-icon"></i>
        <h3 class="card-title">السيرة الذاتية</h3>
      </div>
      <div class="card" style="animation-delay: 0.4s;" data-url="https://sites.google.com/view/3534rf/home?authuser=1">
        <i class="fas fa-graduation-cap card-icon"></i>
        <h3 class="card-title">المؤهل والخبرات</h3>
      </div>
    </div>
  </section>

  <!-- التنمية المهنية -->
  <section class="section-card fade-in">
    <h2 class="section-title">
      <i class="fas fa-briefcase section-icon"></i>
      التنمية المهنية
    </h2>
    <div class="cards-container">
      <div class="card" style="animation-delay: 0.05s;" data-url="https://sites.google.com/view/aser2w/home?authuser=1">
        <i class="fas fa-chalkboard-teacher card-icon"></i>
        <h3 class="card-title">الدورات التدريبية</h3>
      </div>
      <div class="card" style="animation-delay: 0.1s;" data-url="https://sites.google.com/view/erfedf43/m?authuser=1">
        <i class="fas fa-award card-icon"></i>
        <h3 class="card-title">الإنجازات</h3>
      </div>
    </div>
  </section>

  <!-- التطوير المهني -->
  <section class="section-card fade-in">
    <h2 class="section-title">
      <i class="fas fa-sync-alt section-icon"></i>
      التطوير المهني
    </h2>
    <div class="cards-container">
      <div class="card" style="animation-delay: 0.05s;" data-url="https://sites.google.com/view/edsww2/%D8%AA%D8%A8%D8%A7%D8%AF%D9%84-%D8%A7%D9%84%D8%B2%D9%8A%D8%A7%D8%B1%D8%A7%D8%AA?authuser=1">
        <i class="fas fa-exchange-alt card-icon"></i>
        <h3 class="card-title">تبادل الزيارات</h3>
      </div>
      <div class="card" style="animation-delay: 0.1s;" data-url="https://sites.google.com/view/wafe23/%D8%A7%D9%84%D9%85%D8%AC%D8%AA%D9%85%D8%B9%D8%A7%D8%AA-%D8%A7%D9%84%D9%85%D9%87%D9%86%D9%8A%D8%A9?authuser=1">
        <i class="fas fa-users-cog card-icon"></i>
        <h3 class="card-title">المجتمعات المهنية</h3>
      </div>
    </div>
  </section>

  <!-- التكريم والجوائز -->
  <section class="section-card fade-in">
    <h2 class="section-title">
      <i class="fas fa-award section-icon"></i>
      التكريم والجوائز
    </h2>
    <div class="cards-container">
      <div class="card" style="animation-delay: 0.05s;" data-url="https://sites.google.com/view/sf56/%D8%A7%D9%84%D8%AA%D9%83%D8%B1%D9%8A%D9%85-%D9%88%D8%A7%D9%84%D8%AC%D9%88%D8%A7%D8%A6%D8%B2?authuser=1">
        <i class="fas fa-trophy card-icon"></i>
        <h3 class="card-title">التكريم والجوائز</h3>
      </div>
    </div>
  </section>

  <!-- العمل التعليمي -->
  <section class="section-card fade-in">
    <h2 class="section-title">
      <i class="fas fa-chalkboard section-icon"></i>
      العمل التعليمي
    </h2>
    <div class="cards-container">
      <div class="card" style="animation-delay: 0.05s;" data-url="https://sites.google.com/view/sa32sa2/%D8%A3%D9%87%D8%AF%D8%A7%D9%81-%D8%AA%D8%B9%D9%84%D9%8A%D9%85-%D8%A7%D9%84%D9%85%D8%A7%D8%AF%D8%A9?authuser=1">
        <i class="fas fa-bullseye card-icon"></i>
        <h3 class="card-title">أهداف تعليم المادة</h3>
      </div>
      <div class="card" style="animation-delay: 0.1s;" data-url="https://sites.google.com/view/sacsd/dc?authuser=1">
        <i class="fas fa-calendar-alt card-icon"></i>
        <h3 class="card-title">جدول الحصص</h3>
      </div>
      <div class="card" style="animation-delay: 0.15s;" data-url="https://sites.google.com/view/erferx/%D8%AA%D9%88%D8%B2%D9%8A%D8%B9-%D8%A7%D9%84%D9%85%D9%86%D9%87%D8%AC?authuser=1">
        <i class="fas fa-book card-icon"></i>
        <h3 class="card-title">توزيع المنهج</h3>
      </div>
      <div class="card" style="animation-delay: 0.2s;" data-url="https://sites.google.com/view/sdf6664rf/fg?authuser=1">
        <i class="fas fa-calendar-week card-icon"></i>
        <h3 class="card-title">الخطة الزمنية</h3>
      </div>
      <div class="card" style="animation-delay: 0.25s;" data-url="https://sites.google.com/view/dfgtte2/%D8%AA%D8%AD%D8%B6%D9%8A%D8%B1-%D8%A7%D9%84%D9%85%D9%86%D8%B5%D8%A9?authuser=1">
        <i class="fas fa-chalkboard card-icon"></i>
        <h3 class="card-title">تحضير المنصة</h3>
      </div>
      <div class="card" style="animation-delay: 0.3s;" data-url="https://sites.google.com/view/dvfdg78/%D8%A7%D9%84%D9%88%D8%A7%D8%AC%D8%A8%D8%A7%D8%AA?authuser=1">
        <i class="fas fa-tasks card-icon"></i>
        <h3 class="card-title">الواجبات</h3>
      </div>
      <div class="card" style="animation-delay: 0.35s;" data-url="https://sites.google.com/view/dfgu55/%D8%B9%D8%B1%D9%88%D8%B6-%D8%AA%D9%82%D8%AF%D9%8A%D9%85%D9%8A%D8%A9?authuser=1">
        <i class="fas fa-file-powerpoint card-icon"></i>
        <h3 class="card-title">عروض تقديمية</h3>
      </div>
      <div class="card" style="animation-delay: 0.4s;" data-url="https://sites.google.com/view/sdgvt6/sw?authuser=1">
        <i class="fas fa-file-alt card-icon"></i>
        <h3 class="card-title">أوراق العمل</h3>
      </div>
      <div class="card" style="animation-delay: 0.45s;" data-url="https://sites.google.com/view/dvfdg33/ss?authuser=1">
        <i class="fas fa-lightbulb card-icon"></i>
        <h3 class="card-title">استراتيجيات حديثة</h3>
      </div>
      <div class="card" style="animation-delay: 0.5s;" data-url="https://sites.google.com/view/dfg6654e/we?authuser=1">
        <i class="fas fa-comments card-icon"></i>
        <h3 class="card-title">تفاعلات الطلاب</h3>
      </div>
      <div class="card" style="animation-delay: 0.55s;" data-url="https://sites.google.com/view/fghhny8/%D9%85%D8%B4%D8%A7%D8%B1%D9%8A%D8%B9-steam?authuser=1">
        <i class="fas fa-atom card-icon"></i>
        <h3 class="card-title">STEM</h3>
      </div>
      <div class="card" style="animation-delay: 0.6s;" data-url="https://sites.google.com/view/kjjhhjkl6/%D8%A7%D9%84%D9%85%D8%B3%D8%A7%D8%A8%D9%82%D8%A7%D8%AA?authuser=1">
        <i class="fas fa-medal card-icon"></i>
        <h3 class="card-title">المسابقات</h3>
      </div>
      <div class="card" style="animation-delay: 0.65s;" data-url="https://sites.google.com/view/sdsgdfsb6/ee?authuser=1">
        <i class="fas fa-school card-icon"></i>
        <h3 class="card-title">البيئة التعليمية</h3>
      </div>
      <div class="card" style="animation-delay: 0.7s;" data-url="https://sites.google.com/view/sdergrt7/xc?authuser=1">
        <i class="fas fa-laptop-code card-icon"></i>
        <h3 class="card-title">التقنية والتعليم</h3>
      </div>
    </div>
  </section>

  <!-- تقويم الطلاب -->
  <section class="section-card fade-in">
    <h2 class="section-title">
      <i class="fas fa-clipboard-list section-icon"></i>
      تقويم الطلاب
    </h2>
    <div class="cards-container">
      <div class="card" style="animation-delay: 0.05s;" data-url="https://sites.google.com/view/ghgv54/q?authuser=1">
        <i class="fas fa-chart-line card-icon"></i>
        <h3 class="card-title">سجلات المتابعة</h3>
      </div>
      <div class="card" style="animation-delay: 0.1s;" data-url="https://sites.google.com/view/edsfvd45/aw?authuser=1">
        <i class="fas fa-check-circle card-icon"></i>
        <h3 class="card-title">الاختبارات</h3>
      </div>
      <div class="card" style="animation-delay: 0.15s;" data-url="https://sites.google.com/view/sdfcdrt66/zx?authuser=1">
        <i class="fas fa-chart-pie card-icon"></i>
        <h3 class="card-title">تحليل النتائج</h3>
      </div>
      <div class="card" style="animation-delay: 0.2s;" data-url="https://sites.google.com/view/sdfdrttr4/ed?authuser=1">
        <i class="fas fa-user-graduate card-icon"></i>
        <h3 class="card-title">الطلاب المتفوقين</h3>
      </div>
      <div class="card" style="animation-delay: 0.25s;" data-url="https://sites.google.com/view/drhfbtrh55/bn?authuser=1">
        <i class="fas fa-user-friends card-icon"></i>
        <h3 class="card-title">الطلاب الضعاف</h3>
      </div>
    </div>
  </section>

  <!-- مكتبة الطالب -->
  <section class="section-card fade-in">
    <h2 class="section-title">
      <i class="fas fa-book-open section-icon"></i>
      مكتبة الطالب
    </h2>
    <div class="cards-container">
      <div class="card" style="animation-delay: 0.05s;" data-url="https://sites.google.com/view/dvdf55/ss?authuser=1">
        <i class="fas fa-book card-icon"></i>
        <h3 class="card-title nowrap-text">الأول ثانوي</h3>
      </div>
      <div class="card" style="animation-delay: 0.1s;" data-url="https://sites.google.com/view/dgvgrhbht76/hj?authuser=1">
        <i class="fas fa-book card-icon"></i>
        <h3 class="card-title nowrap-text">الثاني ثانوي</h3>
      </div>
      <div class="card" style="animation-delay: 0.15s;" data-url="https://sites.google.com/view/regf78/ut?authuser=1">
        <i class="fas fa-book card-icon"></i>
        <h3 class="card-title nowrap-text">الثالث ثانوي</h3>
      </div>
    </div>
  </section>

  <!-- الاثراء التقني -->
  <section class="section-card fade-in">
    <h2 class="section-title">
      <i class="fas fa-laptop-code section-icon"></i>
      الاثراء التقني
    </h2>
    <div class="cards-container">
      <div class="card" style="animation-delay: 0.05s;" data-url="https://sites.google.com/view/sdfgbdh77/wc?authuser=1">
        <i class="fas fa-book card-icon"></i>
        <h3 class="card-title">كتب التقنية</h3>
      </div>
      <div class="card" style="animation-delay: 0.1s;" data-url="https://sites.google.com/view/sdfgdf6/vm?authuser=1">
        <i class="fas fa-image card-icon"></i>
        <h3 class="card-title">إنفوجرافيك</h3>
      </div>
      <div class="card" style="animation-delay: 0.15s;" data-url="https://sites.google.com/view/sdfh77/rt?authuser=1">
        <i class="fas fa-video card-icon"></i>
        <h3 class="card-title">فيديوهات قصيرة</h3>
      </div>
    </div>
  </section>

  <!-- التواصل -->
  <section class="section-card fade-in">
    <h2 class="section-title">
      <i class="fas fa-comments section-icon"></i>
      التواصل
    </h2>
    <div class="cards-container">
      <div class="card" style="animation-delay: 0.05s;" onclick="window.location.href='mailto:mfh713623@gmail.com'">
        <i class="fas fa-envelope card-icon"></i>
        <h3 class="card-title nowrap-text">البريد الإلكتروني</h3>
      </div>
    </div>
  </section>
</div>
<!-- قسم مساعد الذكاء الاصطناعي -->
<div class="ai-assistant-container fade-in">
  <h2 class="ai-header">
    <i class="fas fa-robot ai-icon"></i>
    مساعد الذكاء الاصطناعي  
  </h2>
  
  <p class="ai-description">
    اسأل عن أي موضوع في التقنية الرقمية أو غيرها من المواضيع 
  </p>
  
  <div class="ai-chat-container">
    <div class="ai-messages" id="aiMessages">
      <div class="message ai-message">
        <strong>   مـرحبا ومسـهلا  :</strong>  أنا مساعد الذكاء الاصطناعي .. كيف أقدر اخدمك ؟
      </div>
    </div>
    
    <div class="ai-input-group">
      <input type="text" class="ai-input" id="aiInput" placeholder="أكتب سؤالك هنا..." maxlength="500">
      <button class="ai-send-btn" id="aiSendBtn">
        <i class="fas fa-paper-plane"></i>
      </button>
    </div>
    
    <div class="ai-loading" id="aiLoading">
      <i class="fas fa-spinner fa-spin"></i> جاري معالجة سؤالك...
    </div>
  </div>
  
  <div class="ai-disclaimer">
    <i class="fas fa-info-circle"></i>
    ملاحظة: الإجابات تعتمد على المعرفة العامة للذكاء الاصطناعي وقد تحتاج لمراجعة المعلم للتأكد من دقتها
  </div>
</div>
<!-- قسم الاستفسارات -->
<div class="google-form-container fade-in">
  <h2 class="google-form-header">
    <i class="fas fa-comments section-icon"></i>  الاستفسارات التعليمية
  </h2>
  
  <iframe 
    src="https://docs.google.com/forms/d/e/1FAIpQLScP82hCVuCxuIl_FBXQpZJyGbR6kWGVEuT2Y6oKNPm2TfIwcA/viewform?embedded=true" 
    width="100%" 
    height="700" 
    frameborder="0" 
    marginheight="0" 
    marginwidth="0"
    style="border: 2px solid var(--primary-soft-1); border-radius: 12px;"
    title="نموذج استفسارات الطلاب">
    جاري التحميل...
  </iframe>
  <a href="https://docs.google.com/spreadsheets/d/14FqkF7e83_KW_Gd48G2OlRLIJYuaKYTPndo-qb5DjKo/edit?usp=sharing" class="answers-link" target="_blank">
    <i class="fas fa-external-link-alt"></i> إجابة المعلم على الاستفسارات   
  </a>
  <div class="google-form-footer">
    <small><i class="fas fa-info-circle"></i> سيتم الرد على استفسارك خلال مدة قصيرة   </small>
  </div>
</div>

<!-- زر العودة للأعلى -->
<button class="back-to-top" title="العودة للأعلى" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
  <i class="fas fa-arrow-up"></i>
</button>

<script>
  // دالة تحديث التاريخ والوقت
 // دالة تحديث التاريخ والوقت
function updateCompactDate() {
    const now = new Date();
    
    // حل بسيط: طرح يوم واحد من التاريخ
    const correctedDate = new Date(now);
    correctedDate.setDate(correctedDate.getDate() - 1); // طرح يوم واحد
    
    const hijri = new Intl.DateTimeFormat('ar-SA-u-ca-islamic', {
        day: 'numeric',
        month: 'long'
    }).format(correctedDate);
    
    const gregorian = new Intl.DateTimeFormat('ar-EG', {
        day: 'numeric',
        month: 'numeric',
        year: 'numeric'
    }).format(now);
    
    const time = new Date().toLocaleTimeString('ar-EG', {
        hour: '2-digit',
        minute: '2-digit'
    });
    
    document.getElementById('hijri-date').textContent = hijri;
    document.getElementById('gregorian-date').textContent = gregorian;
    document.getElementById('live-time').textContent = time;
}
  // جلب الإشعار من ملف GitHub
  function fetchNotification() {
    const notificationUrl = 'https://raw.githubusercontent.com/muhammad1937-web/teacher-injaz/refs/heads/main/notification.txt';
    const notificationContent = document.getElementById('notificationContent');
    
    const timestamp = new Date().getTime();
    const urlWithTimestamp = `${notificationUrl}?t=${timestamp}`;
    
    fetch(urlWithTimestamp)
      .then(response => {
        if (!response.ok) {
          throw new Error('فشل جلب الإشعار');
        }
        return response.text();
      })
      .then(text => {
        if (text.trim()) {
          notificationContent.textContent = text;
          
          // ضبط سرعة الحركة بناءً على طول النص
          adjustScrollSpeed(text.length);
        } else {
          notificationContent.textContent = "مرحباً بكم في واجهة المعلم الرقمي .. أ.محمد حمدان الغامدي";
          adjustScrollSpeed(50); // طول افتراضي
        }
      })
      .catch(error => {
        console.error('حدث خطأ:', error);
        notificationContent.textContent = "مرحباً بكم في واجهة المعلم الرقمي .. أ.محمد حمدان الغامدي";
        adjustScrollSpeed(50); // طول افتراضي
      });
  }

 
  // ضبط سرعة الحركة بناءً على طول النص
function adjustScrollSpeed(textLength) {
  const container = document.querySelector('.notification-container');
  const baseDuration = 20; // تم تغيير من 40 إلى 20 ثانية أساسية للنص القصير
  const additionalTimePerChar = 0.05; // تم تغيير من 0.1 إلى 0.05 وقت إضافي لكل حرف
  
  // حساب المدة بناءً على طول النص
  let duration = baseDuration + (textLength * additionalTimePerChar);
  
  // تحديد حد أقصى للمدة
  duration = Math.min(duration, 60); // تم تغيير من 120 إلى 60 ثانية (لا تزيد عن 60 ثانية)
  
  // تطبيق المدة الجديدة
  container.style.animationDuration = `${duration}s`;
  
  // إعادة تشغيل التحريك
  container.style.animation = 'none';
  void container.offsetWidth;
  container.style.animation = `scroll ${duration}s linear infinite`;
}

  // فتح الروابط في نافذة جديدة مع إضافة أيقونة
  document.querySelectorAll('.card[data-url]').forEach(card => {
    const externalIcon = document.createElement('i');
    externalIcon.className = 'fas fa-external-link-alt external-icon';
    card.querySelector('.card-title').appendChild(externalIcon);
    
    card.addEventListener('click', function(e) {
      if (this.dataset.url) {
        window.open(this.dataset.url, '_blank', 'noopener,noreferrer');
      }
    });
  });

  // التحديث كل ثانية للوقت
  updateCompactDate();
  setInterval(updateCompactDate, 1000);

  // تحديث الإشعار كل 5 دقائق
  fetchNotification();
  setInterval(fetchNotification, 5 * 60 * 1000);

  // إعادة تشغيل التحريك عند تغيير المحتوى
  const observer = new MutationObserver(function(mutations) {
    mutations.forEach(function(mutation) {
      if (mutation.type === 'characterData' || mutation.type === 'childList') {
        const content = document.getElementById('notificationContent');
        adjustScrollSpeed(content.textContent.length);
      }
    });
  });

  observer.observe(document.getElementById('notificationContent'), {
    characterData: true,
    childList: true,
    subtree: true
  });

  // تأثيرات الظهور عند التمرير
  function checkFadeElements() {
    const fadeElements = document.querySelectorAll('.fade-in');
    fadeElements.forEach(el => {
      const elementTop = el.getBoundingClientRect().top;
      const elementVisible = 150;
      if (elementTop < window.innerHeight - elementVisible) {
        el.classList.add('visible');
      }
    });
  }

  // التحكم في زر العودة للأعلى
  function toggleBackToTop() {
    const backToTop = document.querySelector('.back-to-top');
    if (window.scrollY > 300) {
      backToTop.classList.add('show');
    } else {
      backToTop.classList.remove('show');
    }
  }

  // إضافة مستمعي الأحداث
  window.addEventListener('scroll', () => {
    checkFadeElements();
    toggleBackToTop();
  });

  // التحقق من العناصر عند تحميل الصفحة
  window.addEventListener('load', () => {
    checkFadeElements();
    toggleBackToTop();
  });
  // وظائف البحث
function initSearch() {
    const searchInput = document.getElementById('searchInput');
    const searchButton = document.getElementById('searchButton');
    const searchResults = document.getElementById('searchResults');
    
    // جمع جميع عناصر البحث
    const searchableItems = Array.from(document.querySelectorAll('.card'));
    
    // دالة البحث
    function performSearch() {
      const searchTerm = searchInput.value.trim().toLowerCase();
      
      if (searchTerm.length < 2) {
        searchResults.style.display = 'none';
        return;
      }
      
      // تصفية العناصر بناءً على نص البحث
      const filteredItems = searchableItems.filter(item => {
        const title = item.querySelector('.card-title').textContent.toLowerCase();
        return title.includes(searchTerm);
      });
      
      // عرض النتائج
      displayResults(filteredItems, searchTerm);
    }
    
    // عرض النتائج
    function displayResults(items, searchTerm) {
      searchResults.innerHTML = '';
      
      if (items.length === 0) {
        searchResults.innerHTML = '<div class="no-results">لا توجد نتائج مطابقة</div>';
      } else {
        items.forEach(item => {
          const title = item.querySelector('.card-title').textContent;
          const resultItem = document.createElement('div');
          resultItem.className = 'search-result-item';
          resultItem.innerHTML = `
            <i class="fas fa-external-link-alt"></i>
            <span>${title}</span>
          `;
          
          resultItem.addEventListener('click', () => {
            if (item.dataset.url) {
              window.open(item.dataset.url, '_blank', 'noopener,noreferrer');
            } else if (item.onclick) {
              item.onclick();
            }
            searchResults.style.display = 'none';
            searchInput.value = '';
          });
          
          searchResults.appendChild(resultItem);
        });
      }
      
      searchResults.style.display = 'block';
    }
    
    // إضافة مستمعي الأحداث
    searchInput.addEventListener('input', performSearch);
    searchButton.addEventListener('click', performSearch);
    
    // إخفاء نتائج البحث عند النقر خارجها
    document.addEventListener('click', (e) => {
      if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
        searchResults.style.display = 'none';
      }
    });
    
    // البحث عند الضغط على Enter
    searchInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        performSearch();
      }
    });
  }

// تهيئة البحث عند تحميل الصفحة
initSearch();
// مساعد الذكاء الاصطناعي Gemini
function initAIAssistant() {
    const aiMessages = document.getElementById('aiMessages');
    const aiInput = document.getElementById('aiInput');
    const aiSendBtn = document.getElementById('aiSendBtn');
    const aiLoading = document.getElementById('aiLoading');

    // رابط الخادم الوسيط
    const API_URL = '/api/gemini';

    // زر مسح المحادثة
    function addClearButton() {
        const clearBtn = document.createElement('button');
        clearBtn.innerHTML = '<i class="fas fa-trash"></i> مسح المحادثة';
        clearBtn.style.cssText = `
            background: #ff4757;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-bottom: 10px;
            transition: all 0.3s;
        `;
        clearBtn.onclick = clearConversation;
        
        aiMessages.parentNode.insertBefore(clearBtn, aiMessages);
    }

    // مسح المحادثة
    function clearConversation() {
        aiMessages.innerHTML = `
            <div class="message ai-message">
                <strong>مساعد التقنية:</strong> مرحباً! أنا مساعد الذكاء الاصطناعي الخاص بالتقنية الرقمية. كيف يمكنني مساعدتك في مواضيع البرمجة، الشبكات، الأمن السيبراني أو أي موضوع تقني آخر؟
            </div>
        `;
    }

       async function sendMessage() {
        const message = aiInput.value.trim();
        if (!message) return;

        addMessage(message, 'user');
        aiInput.value = '';
        aiSendBtn.disabled = true;
        aiLoading.style.display = 'block';

        // --- بداية التعديل ---
        // تأكد من أن الرابط كامل وصحيح
        const API_URL = '/api/gemini'; 

        try {
            const response = await fetch(API_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{
                        parts: [{
                            text: message // نرسل الرسالة مباشرة
                        }]
                    }]
                })
            });

            // سنقوم بتسجيل حالة الاستجابة في المتصفح لتشخيص المشكلة
            console.log('Response Status:', response.status);

            if (!response.ok) {
                // سنقرأ رسالة الخطأ من الخادم ونعرضها
                const errorData = await response.json();
                console.error('Error from server:', errorData);
                throw new Error(errorData.error || 'فشل في الاتصال بالخدمة');
            }

            const data = await response.json();
            
            if (data.candidates && data.candidates[0].content.parts[0].text) {
                const aiResponse = data.candidates[0].content.parts[0].text;
                addMessage(aiResponse, 'ai');
            } else {
                 // إذا كانت الاستجابة من Gemini تحتوي على خطأ (مثل مشكلة في الفوترة)
                if (data.error) {
                    console.error('Error from Gemini:', data.error.message);
                    throw new Error(data.error.message);
                }
                throw new Error('لم يتم الحصول على إجابة');
            }

        } catch (error) {
            console.error('Catch Block Error:', error);
            // سنعرض رسالة خطأ أكثر تفصيلاً
            addMessage(`عذراً، حدث خطأ: ${error.message}`, 'ai');
        } finally {
            aiLoading.style.display = 'none';
            aiSendBtn.disabled = false;
        }
        // --- نهاية التعديل ---
    }


    function addMessage(text, sender) {
        const messageDiv = document.createElement('div');
        messageDiv.className = `message ${sender}-message`;
        
        if (sender === 'user') {
            messageDiv.innerHTML = `<strong>أنت:</strong> ${text}`;
        } else {
            const formattedText = text.replace(/\n/g, '<br>');
            messageDiv.innerHTML = `<strong>مساعد التقنية:</strong> ${formattedText}`;
        }
        
        aiMessages.appendChild(messageDiv);
        aiMessages.scrollTop = aiMessages.scrollHeight;
    }

    // إضافة زر المسح
    addClearButton();

    // إضافة مستمعي الأحداث
    aiSendBtn.addEventListener('click', sendMessage);
    aiInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            sendMessage();
        }
    });

    aiInput.addEventListener('input', () => {
        aiSendBtn.disabled = !aiInput.value.trim();
    });
}

// تهيئة المساعد عند تحميل الصفحة
document.addEventListener('DOMContentLoaded', initAIAssistant);
</script>

</body>
</html>

